import{u as H,t as P,v as R,r as u,o as p,k as y,l as e,d as b,x as i,y as n,b as D,f as a,m as T,q as M,p as $,z as q,e as r,a as E,A as O,F as U}from"./app-44623493.js";const j={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(B,{emit:g}){const _=H(),k={employees:[],startDate:"",endDate:""},m=P({...k}),v=P({employees:[],isLoaded:!_.query.employees});return R(async()=>{v.employees=_.query.employees?_.query.employees.split(","):[],v.isLoaded=!0}),(f,s)=>{const C=u("BaseSelectSearch"),l=u("DatePicker"),d=u("FilterForm");return p(),y(d,{"init-form":k,form:m,multiple:["employees"],onHide:s[3]||(s[3]=o=>g("hide"))},{default:e(()=>[b("div",j,[b("div",z,[v.isLoaded?(p(),y(C,{key:0,multiple:"",name:"employees",label:f.$trans("global.select",{attribute:f.$trans("employee.employee")}),modelValue:m.employees,"onUpdate:modelValue":s[0]||(s[0]=o=>m.employees=o),"value-prop":"uuid","init-search":v.employees,"search-key":"name","search-action":"employee/list"},{selectedOption:e(o=>[i(n(o.value.name)+" ("+n(o.value.codeNumber)+") ",1)]),listOption:e(o=>[i(n(o.option.name)+" ("+n(o.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):D("",!0)]),b("div",G,[a(l,{start:m.startDate,"onUpdate:start":s[1]||(s[1]=o=>m.startDate=o),end:m.endDate,"onUpdate:end":s[2]||(s[2]=o=>m.endDate=o),name:"dateBetween",as:"range",label:f.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},K={class:"text-success"},Q={class:"text-danger"},W={class:"text-success"},X={name:"PayrollSalaryStructureList"},Z=Object.assign(X,{setup(B){const g=T(),_=M("emitter");let k=["filter"];$("salary-structure:create")&&k.unshift("create");let m=[];$("salary-structure:export")&&(m=["print","pdf","excel"]);const v="payroll/salaryStructure/",f=q(!1),s=P({}),C=l=>{Object.assign(s,l)};return(l,d)=>{const o=u("PageHeaderAction"),I=u("PageHeader"),w=u("ParentTransition"),c=u("DataCell"),h=u("FloatingMenuItem"),S=u("FloatingMenu"),A=u("DataRow"),L=u("BaseButton"),N=u("DataTable"),V=u("ListItem");return p(),y(V,{"init-url":v,onSetItems:C},{header:e(()=>[a(I,{title:l.$trans("payroll.salary_structure.salary_structure"),navs:[{label:l.$trans("payroll.payroll"),path:"Payroll"}]},{default:e(()=>[a(o,{url:"payroll/salary-structures/",name:"PayrollSalaryStructure",title:l.$trans("payroll.salary_structure.salary_structure"),actions:r(k),"dropdown-actions":r(m),onToggleFilter:d[0]||(d[0]=t=>f.value=!f.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(w,{appear:"",visibility:f.value},{default:e(()=>[a(J,{onRefresh:d[1]||(d[1]=t=>r(_).emit("listItems")),onHide:d[2]||(d[2]=t=>f.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(w,{appear:"",visibility:!0},{default:e(()=>[a(N,{header:s.headers,meta:s.meta,module:"payroll.salary_structure",onRefresh:d[4]||(d[4]=t=>r(_).emit("listItems"))},{actionButton:e(()=>[r($)("salary-structure:create")?(p(),y(L,{key:0,onClick:d[3]||(d[3]=t=>r(g).push({name:"PayrollSalaryStructureCreate"}))},{default:e(()=>[i(n(l.$trans("global.add",{attribute:l.$trans("payroll.salary_structure.salary_structure")})),1)]),_:1})):D("",!0)]),default:e(()=>[(p(!0),E(U,null,O(s.data,t=>(p(),y(A,{key:t.uuid},{default:e(()=>[a(c,{name:"employee"},{default:e(()=>[i(n(t.employee.name)+" ("+n(t.employee.codeNumber)+") ",1)]),_:2},1024),a(c,{name:"designation"},{default:e(()=>[i(n(t.employee.designation),1)]),_:2},1024),a(c,{name:"branch"},{default:e(()=>[i(n(t.employee.branch),1)]),_:2},1024),a(c,{name:"template"},{default:e(()=>[i(n(t.template.name),1)]),_:2},1024),a(c,{name:"effectiveDate"},{default:e(()=>[i(n(t.effectiveDate.formatted),1)]),_:2},1024),a(c,{name:"netEarning"},{default:e(()=>[b("span",K,n(t.netEarning.formatted),1)]),_:2},1024),a(c,{name:"netDeduction"},{default:e(()=>[b("span",Q,n(t.netDeduction.formatted),1)]),_:2},1024),a(c,{name:"netSalary"},{default:e(()=>[b("span",W,n(t.netSalary.formatted),1)]),_:2},1024),a(c,{name:"createdAt"},{default:e(()=>[i(n(t.createdAt.formatted),1)]),_:2},1024),a(c,{name:"action"},{default:e(()=>[a(S,null,{default:e(()=>[a(h,{icon:"fas fa-arrow-circle-right",onClick:F=>r(g).push({name:"PayrollSalaryStructureShow",params:{uuid:t.uuid}})},{default:e(()=>[i(n(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),r($)("salary-structure:edit")?(p(),y(h,{key:0,icon:"fas fa-edit",onClick:F=>r(g).push({name:"PayrollSalaryStructureEdit",params:{uuid:t.uuid}})},{default:e(()=>[i(n(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):D("",!0),r($)("salary-structure:create")?(p(),y(h,{key:1,icon:"fas fa-copy",onClick:F=>r(g).push({name:"PayrollSalaryStructureDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[i(n(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):D("",!0),r($)("salary-structure:delete")?(p(),y(h,{key:2,icon:"fas fa-trash",onClick:F=>r(_).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[i(n(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Z as default};
